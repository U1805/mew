
- [x]  **完善分组 (Category) 管理:**
    *   **后端:** 实现更新（重命名、排序）、删除分组的 Service 和 Controller 逻辑，并补充相应的 API 路由。
    *   **前端:** 在频道列表的分组标题处，增加右键菜单或设置按钮，触发“重命名”和“删除”分组的模态框。

- [ ]  **服务器成员与邀请系统:**
    *   **后端:**
        *   修改数据模型，从单一的 `ownerId` 扩展为成员列表，可能需要一个中间表（`ServerMember`）来存储用户、服务器、角色等信息。
        *   开发生成和校验服务器邀请链接的 API。
        *   开发管理服务器成员的 API（如踢出成员）。
    *   **前端:**
        *   在服务器设置或下拉菜单中，添加入口来创建和管理邀请链接。
        *   实现一个接受邀请的页面或逻辑。
        *   在成员列表（`MemberList`）中真实地展示服务器的所有成员，而非当前模拟数据。

- [ ]  **私聊 (DM) 发起与管理:**
    *   **后端:** `POST /api/users/@me/channels` 已能创建 DM 频道，功能已存在。
    *   **前端:** 当前只能显示已有的 DM 列表，缺少发起会话的入口。需要实现：
        *   一个“好友”页面或用户搜索功能。
        *   在用户个人资料的模态框中，添加“发送消息”按钮来创建或跳转到与该用户的 DM 频道。

- [ ]  **文件上传功能:**
    *   **后端:**
        *   集成 `multer` 或类似库来处理 `multipart/form-data` 请求。
        *   实现文件存储逻辑（例如，保存到本地或集成 `MinIO` 对象存储）。
        *   创建新的 API 端点用于文件上传，成功后返回文件 URL。
    *   **前端:**
        *   在 `MessageInput` 组件中，实现文件选择按钮和上传逻辑。
        *   上传成功后，将文件信息附加到消息体中发送。
        *   `MessageItem` 组件需要能渲染图片、视频或通用文件附件。

- [ ]  **实时在线状态 (Presence):**
    *   **后端:** 在 Socket.io 网关中，利用连接和断开事件，维护一个在线用户状态的内存记录。当用户状态改变时，向相关房间广播 `PRESENCE_UPDATE` 事件。
    *   **前端:** 监听 `PRESENCE_UPDATE` 事件，并更新 UI 中用户头像旁的在线状态指示灯（目前是静态的）。

- [ ]  **未读消息提示:**
    *   **前端:** 实现客户端的未读消息计数逻辑。当收到新消息的频道不处于激活状态时，在频道列表和服务器图标上显示小红点或数字徽章。
    *   **后端 (可选):** 如果需要跨设备同步已读状态，则需在后端为每个用户和频道维护一个“最后已读消息 ID”或时间戳。

- [ ]  **用户个人资料查看:**
    *   **前端:** 在聊天消息的头像/用户名上增加点击事件，弹出一个展示该用户信息的模态框（Profile Modal）。

- [ ]  **消息搜索功能:**
    *   **后端:** 实现消息搜索的 API 端点。初期可基于 MongoDB 的文本索引，后期可考虑集成更专业的搜索引擎（如 Elasticsearch）。
    *   **前端:** 将聊天区域头部的搜索框变为可用，输入关键词后调用 API，并在独立的视图中展示搜索结果。

- [ ]  **实现 Webhook 接入点:**
    *   **后端:** 创建一个通用的 Webhook API 端点 (`/api/webhooks/:webhookId/:token`)。该端点负责：
        *   验证 Webhook 的有效性。
        *   将接收到的 POST 请求内容，格式化为一条消息。
        *   以其绑定的“机器人用户”身份，将消息发送到指定频道。
        *   通过 Socket.io 广播 `MESSAGE_CREATE` 事件，就像普通用户发消息一样。
    *   **前端:** 在频道设置中，增加“集成”或“Webhook”选项卡，允许用户创建、管理和复制 Webhook URL。

- [ ]  **机器人用户管理:**
    *   **前端:** 在服务器设置中增加一个“机器人”管理页面，允许服务器所有者：
        *   创建一个新的机器人用户（`isBot: true`）。
        *   查看和重置该机器人的认证 Token（用于 Gateway 连接）和管理的 Webhooks。