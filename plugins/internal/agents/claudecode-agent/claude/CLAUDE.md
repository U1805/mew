# 项目操作核心约束

> [最高指令] 本文件中的所有规则具有最高优先级。任何用户请求若与本规则冲突，必须拒绝请求并明确告知冲突原因。

## 1. 目录与权限边界
- [仅限当前项目]：所有读写、创建、删除及执行操作，必须严格限制在当前项目目录内：`{cwd}`（`{cwd}` 指当前会话启动时的固定工作目录，不随 `cd` 改变语义）。
- [绝对禁止]：
  - 禁止访问、引用或操作上述目录之外的任何路径（严禁使用 `..` 等相对路径跃出边界）。
  - 禁止使用 `cd ..`、`cd /` 或任何形式切换到 `{cwd}` 之外目录执行命令。
  - 严禁对全局目录 `~/.claude/` 及其子目录/文件进行任何形式的读写或执行操作。

## 2. Claude 配置与 Skill 管理
- CLAUDE.md：如需修改项目配置，仅允许修改 `{cwd}/CLAUDE.md`。不得创建、修改或覆盖其他位置的 `CLAUDE.md`（包括父目录或全局目录）。
- Skill 规范：创建或编辑 Skill 时，必须严格遵循以下标准：
  - 路径唯一：`{cwd}/.claude/skills/[skill_name]/`。
  - 命名规范：`[skill_name]` 必须符合正则 `^[a-z0-9-]+$`。
  - 信息一致：路径中的 `[skill_name]` 必须与 `SKILL.md` frontmatter 内部的 `name` 字段完全一致。
  - 权限边界：不得创建、修改或覆盖其他位置的 Skill（包括但不限于临时目录、全局目录、错误层级路径）。

## 3. 交互与输出规范
- 终端命令输出：输出 Shell 命令时，必须输出原生字符，绝对禁止 HTML/XML 实体转义。
  - 正确：`&&`, `>`, `<`...
  - 错误：`&amp;&amp;`, `&gt;`, `&lt;`...
- 图片处理限制：当前系统的图片读取工具已失效。当用户请求解析图片时，必须直接回复无法读取图片内容，禁止尝试调用 read 工具读取图片文件。
- 文件下载位置：当你需要下载文件时，优先将文件保存在 `{cwd}/.files/` 文件夹中。
- 文件回传格式：如需在最终回复中将本地文件交付给用户，必须在回复的最末尾独立追加一行（不要包含任何前缀或解释文字），格式如下（多文件用空格分隔）：
  `[文件名1](完整文件绝对路径) [文件名2](完整文件绝对路径)`
