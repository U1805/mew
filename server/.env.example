# Server Port
PORT=3000

# JWT Secret
# Use a long, random string for production. You can generate one with:
# openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key
# JWT Expiration for user access tokens (e.g., 30m, 2h)
JWT_EXPIRES_IN=30m
# Refresh token TTL (e.g., 30d). Stored server-side and sent via HttpOnly cookie.
REFRESH_TOKEN_EXPIRES_IN=30d

# Auth
# Allow public user registration via /api/auth/register
MEW_ALLOW_USER_REGISTRATION=true
# Infra (Bot Service bootstrap)
# Shared secret for infra-only endpoints and /infra Socket.IO namespace
MEW_ADMIN_SECRET=change-me
# CORS allowlist for API responses (comma-separated). In production, set explicit origins.
# Example: http://localhost:5173,https://mew.example.com
MEW_CORS_ORIGINS=
# Express trust proxy setting. Recommended defaults:
# - "loopback" (default) when behind a local reverse proxy
# - a number to trust N hops, or a CIDR/subnet list when needed
MEW_TRUST_PROXY=loopback
# Optional IP allowlist (comma-separated). If empty, private IPs + loopback are allowed.
# Example: 10.0.0.10,10.0.0.11,127.0.0.1
MEW_INFRA_ALLOWED_IPS=
# Optional: override the public URL base for files returned by the API.
# In docker-compose, `/static/` and `/presign/` are served by the client Nginx container.
# Example: http://localhost:151
MEW_STATIC_URL=

# MongoDB Connection String
MONGO_URI=mongodb://localhost:27017/mew

# S3 (Garage) Storage Configuration
S3_ENDPOINT=localhost
S3_WEB_ENDPOINT=web.garage.localhost
S3_PORT=3900
S3_WEB_PORT=3902
S3_REGION=garage
S3_BUCKET_NAME=mew-bucket
S3_ACCESS_KEY_ID=<YOUR_GENERATED_ACCESS_KEY>
S3_SECRET_ACCESS_KEY=<YOUR_GENERATED_SECRET_KEY>
S3_USE_SSL=false
S3_CORS_ORIGINS=
S3_PRESIGN_EXPIRES_SECONDS=60
# Optional: read {accessKeyId,secretAccessKey} from a file (useful for docker-compose init)
S3_CREDENTIALS_FILE=
